<template name="home">
	
	<div id="shoppingList">
		{{#if listProducts}}
		<h3>Compras:</h3>
		<ul>
		{{#each listProducts }}
			<li>{{ this.productName }} - {{ this.price }}€</li>
		{{/each}}
		</ul>
		<h4 class="total">Total: {{total}}€</h4>
		{{else}}
		<h3>Lista vazia</h3>
		{{/if}}
	</div>
	<div class="container-fluid">

		<button id="helpModalBtn" type="button" class="btn btn-xs pink" data-backdrop="false" data-toggle="modal" data-target="#helpModal">Ajuda?</button>

		<div class="row">
			<div class="col-xs-12">
				<div class="main-area">
					<div class="loading-pulse"></div>
					<a href="#" class="mic-button" id="start_button"><i class="fa fa-microphone-slash"></i></a>
				</div>
				<div class="result-area" id="results">
					<span id="final_span" class="final"></span>
					<span id="interim_span" class="interim"></span>
				</div>
			</div>
		</div>

		<div class="row">
			<div id="resultArea" class="col-xs-12"></div>
		</div>
		<div class="row">
			<div id="dashboardArea" class="col-xs-12">
				<hr>
				<div class="row">
					<div class="col-xs-12 col-sm-4">
						<div class="badge-wrapper">
							<h2>Mais comprado</h2>
							<span class="badge pink">
								<h2>{{ topProduct.name }}</h2>
							</span>
						</div>
					</div>
					<div class="col-xs-12 col-sm-4">
						<div class="badge-wrapper">
							<h2>Avg. Product Price</h2>
							<span class="badge green">
								<h2>{{ avgPrice }}€</h2>
							</span>
						</div>	
					</div>
					<div class="col-xs-12 col-sm-4">
						<div class="badge-wrapper">
							<h2>Avg. List Total</h2>
							<span class="badge blue">
								<h2>{{ avgListP }}€</h2>
							</span>
						</div>
					</div>
					{{#if userProducts}}
					<div class="col-xs-12">
						<h3 class="background purple padded">Últimas compras</h3>
						{{#each userProducts}}
						<div class="tile move show">
							<img src="{{ this.image }}"/>
							<p class="product-display-name">{{ this.name }}</p>
							<span class="product-price">€{{ this.price }}</span>
						</div>
						{{/each}}
					</div>
					{{/if}}
				</div>
			</div>
		</div>
		
	</div>

	<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h2 class="modal-title" id="helpModalLabel">Comandos</h2>
	      </div>
	      <div class="modal-body">
	      	<p style="font-size:1.5em;">
	      		<b>Procurar</b><br>
	      		- <em>Encontrar pão</em><br>
	      		- <em>Procurar batatas</em><br>
	      		- <em>Mostra-me cereais</em><br>
	      		- <em>Quero comprar carne</em><br>
	      		<b>Selectionar para lista</b><br>
	      		- <em>«nome produto»</em><br>
	      		- <em>Adicionar/selectionar «nome produto»</em><br>
	      		<b>Remover último produto da lista</b><br>
	      		- <em>Remover</em><br>
	      		<b>Ver lista</b><br>
	      		- <em>Mostrar lista</em><br>
	      		<b>Esconder lista</b><br>
	      		- <em>Esconde a lista</em><br>
	      		<b>Acabar lista</b><br>
	      		- <em>Finalizar lista</em><br>
	      		<b>Logout</b><br>
	      		- <em>Fazer logout</em><br>
	      	</p>
	      </div>
	      <div class="modal-footer">
	      	<button type="button" class="btn blue" data-dismiss="modal">OK</button>
	      </div>
	    </div>
	  </div>
	</div>

</template>

<template name="webview">
	<div class="main-area">
		<div class="loading-pulse"></div>
	</div>
	<div class="result-area" id="results">
		<span id="final_span" class="final"></span>
		<span id="interim_span" class="interim"></span>
	</div>
	<div class="row"><div id="resultArea" class="col-xs-12"></div></div>
</template>